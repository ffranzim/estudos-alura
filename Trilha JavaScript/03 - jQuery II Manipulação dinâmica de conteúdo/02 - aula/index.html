<html>
<head>
	<link rel="stylesheet" type="text/css" href="carrinho.css">
</head>
<body>
	<div class="carrinho">
		<h2>Carrinho entrega em Sao Paulo</h2>
		<table>
			<thead>
				<tr>
					<td></td>
					<td>Nome</td>
					<td>Quantidade</td>
					<td>Valor</td>
					<td>Total</td>
					<td></td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><img src="imagens/tablet.jpg"></td>
					<td>Tablet miPad 18</td>
					<td>1</td>
					<td>499.99</td>
					<td class="valor-item-total">499.99</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/telefone.png"></td>
					<td>Telefone miPhone 18</td>
					<td>2</td>
					<td>199.99</td>
					<td class="valor-item-total">399.98</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/sapato.jpg"></td>
					<td>Sapato</td>
					<td>1</td>
					<td>99.99</td>
					<td class="valor-item-total">99.99</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/monitor.jpg"></td>
					<td>Monitor Sam 21</td>
					<td>1</td>
					<td>299.00</td>
					<td class="valor-item-total">299.00</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/teclado.jpg"></td>
					<td>Teclado com fio preto </td>
					<td>1</td>
					<td>100.00</td>
					<td class="valor-item-total">100.00</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/mouse.jpg"></td>
					<td>Mouse wireless</td>
					<td>1</td>
					<td>199.00</td>
					<td class="valor-item-total">199.00</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
				<tr>
					<td><img src="imagens/camiseta.jpg"></td>
					<td>Camiseta G</td>
					<td>1</td>
					<td>25.00</td>
					<td class="valor-item-total">25.00</td>
					<td><a class="remove-item" href="">remover</a></td>
				</tr>
			</tbody>
		</table>
	</div>

	<script src="jquery-2.1.4.min.js"></script>
	<script>


		var removeItem = function (event) {
			event.preventDefault(); // evita que a pagina seja submetida
			var item = $(this);
			//item.parent().parent().remove();// chamando de maneira hierarquica
			item.closest("tr").remove() // procurando o tr mais proximo
			console.log("cheguei aqui");
		}


		var posLoad = function () {

			var itens = $(".valor-item-total");
			var total = 0;

			$.each(itens, function () { //for (var i = 0; i < retorno.treinamentos.length; i++) {
				var item = $(this);	
	  			console.log(item.text());
	  			total = total + parseFloat(item.text());
	  		});	
	  	
	  		console.log("Valor total :" + total);
	  		$("#valorTotal").text(total);
	  		console.log("Qtd :" + itens.length);
	  		$("#qtdItens").text(itens.length);
	  		$(".remove-item").click(removeItem);
		};

		$(posLoad);

		
	</script>

	<div>
		Valor total : R$ <span id="valorTotal">0</span>
		<br/>
		Qtd itens : <span id="qtdItens">0</span>
	</div>	

</body>
</html>